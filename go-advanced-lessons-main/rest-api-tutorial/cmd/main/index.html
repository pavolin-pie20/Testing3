<!-- index.html -->

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/css/intlTelInput.css">
    <title>Data Table</title>
</head>
<body>

<header class="s-site-header">



    <nav aria-label="Main menu" class="s-nav s-nav--primary">
        <div class="s-container">

            <!--Логотип компании-->
            <li class="s-nav__logo">
                <button>
                    <svg xmlns="http://www.w3.org/2000/svg" width="98" height="133" viewBox="0 0 98 133" fill="none">
                        <path d="M42.1739 1.44139C29.0489 3.46288 18.004 10.3769 10.1232 21.4805C3.26769 31.1484 0.513784 39 0.162221 50.0449C-0.0721536 57.5449 0.543081 62.3203 2.62316 68.7949C8.51183 87.1933 23.8341 100.611 42.4083 103.658C45.7775 104.215 52.2228 104.215 55.5919 103.658C66.0216 101.959 75.4552 97.0371 83.0724 89.332C88.4337 83.9121 92.9454 76.3828 95.3771 68.7949C97.4571 62.3203 98.0724 57.5449 97.838 50.0449C97.4864 39 94.7325 31.1484 87.8771 21.4805C79.4982 9.67382 67.1642 2.43749 53.1603 1.08983L51.0509 0.884754L51.1095 38.5019L51.1974 76.1191L53.2189 76.207C54.42 76.2656 55.3868 76.1484 55.5626 75.9726C55.797 75.7383 55.9142 68.9707 56.0314 53.3262L56.1778 31.0019L57.3497 30.9141C58.1993 30.8262 58.6095 30.9433 58.8732 31.3242C59.1661 31.7344 59.254 36.3633 59.254 53.8828C59.254 73.6875 59.3126 75.9141 59.7228 76.0898C60.5724 76.4121 62.9747 76.2656 63.3263 75.8848C63.5314 75.5918 63.6778 72.0176 63.7071 64.5176L63.795 53.5605L65.0841 53.4726C65.7872 53.4141 66.5196 53.5312 66.6954 53.707C66.9005 53.9121 67.0763 57.5156 67.1642 65.0742L67.3107 76.1191L68.4532 76.207C69.0978 76.2656 69.9181 76.2363 70.2989 76.1484L70.9728 75.9726V70.8457C70.9728 64.9863 71.0021 64.9277 73.1114 66.8613L74.3419 68.0039L74.4884 72.0762L74.6349 76.1191L77.711 76.2656C80.5235 76.4121 80.7872 76.4707 80.8751 76.998C80.9044 77.3203 80.7579 77.8476 80.5235 78.1699C80.1134 78.7558 79.7325 78.7558 49.0001 78.7558C18.2677 78.7558 17.8868 78.7558 17.4767 78.1699C17.2423 77.8476 17.0958 77.3203 17.1251 76.998C17.213 76.4707 17.4767 76.4121 20.2892 76.2656L23.3653 76.1191L23.5118 72.0762L23.6583 68.0039L24.8888 66.8613C26.9982 64.9277 27.0275 64.9863 27.0275 70.8457V75.9726L27.7013 76.1484C28.0821 76.2363 28.9025 76.2656 29.547 76.207L30.6896 76.1191L30.8361 65.0742C30.9239 57.5156 31.0997 53.9121 31.3048 53.707C31.4806 53.5312 32.213 53.4141 32.9161 53.4726L34.2052 53.5605L34.2931 64.5176C34.3224 72.0176 34.4689 75.5918 34.6739 75.8848C35.0255 76.2656 37.4278 76.4121 38.2775 76.0898C38.6876 75.9141 38.7462 73.6875 38.7462 53.8828C38.7462 36.3633 38.8341 31.7344 39.1271 31.3242C39.3907 30.9433 39.8009 30.8262 40.6505 30.9141L41.8224 31.0019L41.9689 53.3262C42.0861 68.9707 42.2032 75.7383 42.4376 75.9726C42.6134 76.1484 43.5802 76.2656 44.7814 76.207L46.8028 76.1191L46.8907 38.5312L46.9493 0.972645L45.8653 1.00194C45.2501 1.03124 43.5802 1.20702 42.1739 1.44139ZM81.6661 80.3379C83.336 80.5137 83.4239 80.5723 83.5118 81.334C83.5704 81.8027 83.3946 82.4766 83.131 82.8867L82.6915 83.5898H49.0001H15.3087L14.8693 82.8867C14.6056 82.4766 14.4298 81.8027 14.4884 81.334C14.5763 80.5723 14.6935 80.5137 16.1876 80.3379C18.3849 80.1035 79.4689 80.1035 81.6661 80.3379Z" fill="white"/>
                        <path d="M76.481 114.703C74.1665 117.75 70.0943 124.107 69.8306 125.074C68.7173 129.029 70.7681 132.34 74.5181 132.721C78.7076 133.131 81.9595 130.23 81.4029 126.539C80.9927 123.932 79.2349 122.35 76.3931 122.057C75.5142 121.969 74.7818 121.822 74.7818 121.764C74.7818 121.676 75.7486 120.211 76.9205 118.512C78.1216 116.783 79.1763 115.23 79.2935 115.025C79.4107 114.791 79.147 114.498 78.6197 114.205C77.4185 113.59 77.3013 113.619 76.481 114.703ZM76.8619 124.166C78.5611 125.074 79.3521 127.33 78.5025 129C78.0337 129.937 76.3638 131.051 75.4556 131.051C73.6978 131.051 72.0572 129.264 72.0572 127.418C72.0572 124.664 74.5474 122.994 76.8619 124.166Z" fill="white"/>
                        <path d="M2.125 114.293C2.125 114.41 3.85352 116.227 5.93359 118.307C8.04297 120.387 9.74219 122.203 9.74219 122.35C9.74219 122.467 7.89648 124.693 5.64062 127.301C3.38477 129.908 1.53906 132.164 1.53906 132.281C1.53906 132.398 2.24219 132.516 3.12109 132.516H4.67383L8.24805 128.238L11.793 123.961V128.238V132.516H13.1113H14.4004L14.4883 128.209L14.5762 123.902L18.1797 128.209L21.7832 132.516H23.3652C24.2441 132.516 24.9766 132.428 24.9766 132.34C24.9766 132.193 20.8164 127.301 17.2422 123.229L16.4219 122.262L20.4648 118.16L24.5078 114.059H22.75H21.0215L17.7402 117.486L14.459 120.943L14.4297 117.486V114.059H13.1113H11.793V117.34L11.7637 120.65L8.57031 117.34L5.34766 114.059H3.73633C2.85742 114.059 2.125 114.146 2.125 114.293Z" fill="white"/>
                        <path d="M27.6133 123.287V132.516H30.9238C34.7617 132.516 36.0508 132.223 37.3984 131.051C38.7168 129.879 39.127 128.736 38.9805 126.861C38.7168 123.756 36.8711 122.408 32.4766 122.086L29.957 121.881V118.863V115.816H33.6191H37.2812V114.937V114.059H32.4473H27.6133V123.287ZM33.8242 124.02C36.2266 124.693 37.252 127.682 35.6699 129.41C34.7324 130.436 33.7656 130.758 31.6855 130.758H29.957V127.242V123.727H31.3633C32.125 123.727 33.2383 123.873 33.8242 124.02Z" fill="white"/>
                        <path d="M42.5547 123.287V132.516H43.2578C43.7852 132.516 45.1914 131.08 49.4688 126.1L55.0059 119.684L55.0938 126.1L55.1523 132.516H56.4707H57.7891V123.287C57.7891 114.381 57.7598 114.059 57.2324 114.059C56.8516 114.059 54.8008 116.227 51.1973 120.416C48.209 123.932 45.6309 126.832 45.4551 126.891C45.3086 126.949 45.1914 124.459 45.1914 120.533V114.059H43.873H42.5547V123.287Z" fill="white"/>
                        <path d="M84.4492 114.937V115.816H88.6973C91.041 115.816 92.9453 115.904 92.9453 116.021C92.9453 116.109 91.0703 119.742 88.8145 124.078C86.0312 129.41 84.7715 132.076 84.9766 132.281C85.123 132.428 85.6797 132.604 86.207 132.604L87.1445 132.662L91.9492 123.58C94.5859 118.57 96.7539 114.41 96.7539 114.264C96.7539 114.146 94 114.059 90.6016 114.059H84.4492V114.937Z" fill="white"/>
                    </svg>
                </button>
            </li>

            <!--Навигация по сайту-->
            <div class="s-nav__item">
                <a class="s-nav__item_a1" href="products.html">Каталог ЖБИ</a>
                <a class="s-nav__item_a2" href="products.html">Доставка</a>
                <a class="s-nav__item_a3" href="products.html">О компании</a>
                <a class="s-nav__item_a4" href="products.html">Контакты</a>
            </div>

            <!--SVG иконка для открытия входа в личный кабинет-->
            <li class="s-nav__personal_area">
                <button class="s-personal_area__personal_area_button">
                    <svg xmlns="http://www.w3.org/2000/svg" width="40" height="40" viewBox="0 0 40 40" fill="none">
                        <circle cx="20" cy="16.6667" r="5" stroke="#F2F2F2" stroke-width="2" stroke-linecap="round"/>
                        <circle cx="20" cy="20" r="15" stroke="#F2F2F2" stroke-width="2"/>
                        <path d="M29.6342 31.3773C29.8461 31.261 29.9463 31.0092 29.8567 30.7847C29.214 29.1741 27.9759 27.7557 26.3024 26.7221C24.4943 25.6053 22.279 25 20 25C17.721 25 15.5057 25.6053 13.6976 26.7221C12.0241 27.7557 10.786 29.1741 10.1433 30.7847C10.0537 31.0092 10.1539 31.261 10.3658 31.3773C16.3662 34.6716 23.6338 34.6716 29.6342 31.3773Z" fill="#F2F2F2"/>
                    </svg>
                </button>
            </li>


        </div>
    </nav>


    <!-- Блок во вход в личный кабинет-->
    <div class="s-personal_area">

        <!--Текст Личный кабинет-->
        <div class="s-personal_area__text">Личный кабинет</div>

        <!--SVG иконка для закрытия-->
        <li class="s-personal_area__close">
            <button class="s-personal_area__close_button">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
                    <path d="M18.75 6.25L6.25 18.75" stroke="#33363F" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M6.25 6.25L18.75 18.75" stroke="#33363F" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        </li>

        <!--Инпуты для входа в личный кабинет-->
        <div class="s-personal_area__inputs">
            <input id="loginInput" type="text" class="s-personal_area__login" placeholder="Логин">
            <input id="passwordInput" type="password" class="s-personal_area__password" placeholder="Пароль">
        </div>

        <!--Запомнить меня-->
        <div class="s-personal_area__Remember_me">
            <input type="checkbox" class="s-personal_area__Remember_me__input" id="rememberMeCheckbox">
            <label for="rememberMeCheckbox" class="s-personal_area__Remember_me__label">Запомнить меня</label>
        </div>

        <!--Забыли пароль-->
        <a href="" class="s-personal_area__Forgot_password">Забыли пароль</a>

        <!--Кнопки перехода-->
        <!--Войти - Личный кабинет (При выолненных условиях)-->
        <!--Регистрация - Регистрация нового пользователя -->
        <button class="s-personal_area__Enter" onclick="personalEnter()" >Войти</button>
        <button class="s-personal_area__Registration">Регистрация</button>


    </div>
    <!-------------------------------------------------------------------->

    <!--Блок регистрации нового пользователя-->
    <div class="s-registration">

        <!--Текст Регистрация-->
        <div class="s-registration__text">Регистрация</div>

        <!--SVG иконка выхода-->
        <li class="s-registration__close">
            <button class="s-registration__close_button">
                <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" viewBox="0 0 25 25" fill="none">
                    <path d="M18.75 6.25L6.25 18.75" stroke="#33363F" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M6.25 6.25L18.75 18.75" stroke="#33363F" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </button>
        </li>

        <!--Инпуты для регистрации нового пользователя-->
        <div class="s-registration__inputs">
            <select id="entityType" class="s-registration__entity" name="entityType">
                <option value="individual">Физ. лицо</option>
                <option value="legal">Юр. лицо</option>
            </select>
            <input id="contactName" type="text" class="s-registration__name" placeholder="ФИО">
            <input id="email" type="email" class="s-registration__mail" placeholder="E-mail" onblur="validateEmail(event)" onkeydown="handleKeyDown(event)">
                <div class="validation-message" id="emailValidationMessage"></div>
            <div class="s-registration__tel-container">
                <input type="tel" class="s-registration__tel" name="phone" id="phone">
            </div>
                <div class="alert alert-info" style="display: none;"></div>
            <input id="login" type="text" class="s-registration__login" placeholder="Логин">
            <input id="password" type="password" class="s-registration__password" placeholder="Пароль">
        </div>

        <!--Согласен на обработку персональных данных-->
        <div class="s-registration__personal_data">
            <input type="checkbox" class="s-registration__personal_data__input" id="personalDataCheckbox">
            <label for="personalDataCheckbox" class="s-registration__personal_data__label">Я согласен на <a>обработку персональных данных</a></label>
        </div>

        <!--Кнопка Зарегистрироваться (Переход при выполнении определенных условий)-->
        <button class="s-registration__Registration" id="registerButton" onclick="registerUser()">Зарегистрироваться</button>

    </div>
    <!-------------------------------------------------------------------->
</header>


<table id="dataTable">

    <tr>
        <th>ID продукции</th>
        <th>Тип продукции</th>
        <th>Действия</th>
    </tr>

    {{range .Rows}}
    <tr>
        <td>{{.IDType}}</td>
        <td>{{.NameType}}</td>
        <td>
            <button onclick="deleteRow('{{.IDType}}')">Удаление</button>
            <button onclick="editRow('{{.IDType}}', '{{.NameType}}')">Изменеие</button>
        </td>
    </tr>
    {{end}}

</table>

<input type="text" id="newTypeName" placeholder="Новый тип продукции">

<button onclick="addRow()">Добавление новой строки</button>
<button onclick="backup()">Backup</button>

<a href="products.html">Переход на products</a>

<script>

    // ------------------------------------------------------------------------
    // ------------------------------------------------------------------------
    // ФУНКЦИЯ РЕДАКТИРОВАНИЯ СТРОКИ
    // ------------------------------------------------------------------------
    function editRow(id, currentName) {

        var newName = prompt("Введите новое имя типа продукции:", currentName);

        if (newName !== null && newName !== undefined) {
            // Отправка AJAX-запроса на сервер для редактирования строки
            fetch('/edit/' + id, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json;charset=UTF-8',
                },
                body: JSON.stringify({ IDType: id, TypeName: newName }),
            })
                .then(response => {
                    if (response.ok) {
                        location.reload();
                    } else {
                        console.error('Ошибка:', response.status);
                    }
                })
                .catch(error => {
                    console.error('Ошибка:', error);
                });
        }
    }
    // ------------------------------------------------------------------------





    // ------------------------------------------------------------------------
    // ------------------------------------------------------------------------
    // УДАЛЕНИЕ СТРОКИ
    // ------------------------------------------------------------------------
    function deleteRow(id) {

        var confirmation = confirm("Вы уверены, что хотите удалить данную строку?");

        if (confirmation) {
            // Отправка AJAX-запроса на сервер для удлаления строки
            var xhr = new XMLHttpRequest();
            xhr.open("POST", "/delete/" + id, true);
            xhr.onreadystatechange = function() {
                if (xhr.readyState == 4 && xhr.status == 200) {
                    // Reload the page after successful deletion
                    location.reload();
                }
            };
            xhr.send();
        }
    }
    // ------------------------------------------------------------------------





    // ------------------------------------------------------------------------
    // ------------------------------------------------------------------------
    // ДОБАВЛЕНИЕ НОВОЙ СТРОКИ
    // ------------------------------------------------------------------------
    function addRow() {

        var table = document.getElementById("dataTable");
        var newRow = table.insertRow(table.rows.length - 1);
        var newCell1 = newRow.insertCell(0);
        var newCell2 = newRow.insertCell(1);
        var newTypeName = document.getElementById("newTypeName").value;

        // Отправка AJAX-запроса на сервер для добавления новой строки
        fetch('/add', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({ TypeName: newTypeName }),
        })
            .then(response => response.json())
            .then(data => {
                newCell1.innerHTML = data.IDType;
                newCell2.innerHTML = data.NameType;
            })
            .catch(error => {
                console.error('Ошибка:', error);
            });
    }
    // ------------------------------------------------------------------------





    // ------------------------------------------------------------------------
    // ------------------------------------------------------------------------
    // ДОБАВЛЕНИЕ НОВОГО ПОЛЬЗОВАТЕЛЯ
    // ------------------------------------------------------------------------
    function registerUser() {
        // Получение значений из формы
        var newEntityType = document.getElementById("entityType").value;
        var newContactName = document.getElementById("contactName").value;
        var newEMail = document.getElementById("email").value;
        var newPhone = document.getElementById("phone").value;
        var newLogin = document.getElementById("login").value;
        var newPassword = document.getElementById("password").value;

        var newAddress = "none";
        var newUserPriority = "покупатель";

        // Отправка данных на сервер
        fetch('/register', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify({
                EntityType: newEntityType,
                ContactName: newContactName,
                Address: newAddress,
                Phone: newPhone,
                UserPriority: newUserPriority,
                Login: newLogin,
                Password: newPassword,
                EMail: newEMail
            }),
        })
            .then(response => response.json())
            .then(data => {
                alert("Пользователь " + data.ContactName + " зарегистрирован!");
            })
            .catch(error => {
                console.error('Ошибка:', error);
            });
    }
    // ------------------------------------------------------------------------

    
    
    
    
    // ------------------------------------------------------------------------
    // ------------------------------------------------------------------------
    // ВХОД В ЛИЧНЫЙ КАБИНЕТ
    // ------------------------------------------------------------------------
    function personalEnter() {
        // Получаем значения из инпутов
        var loginValue = document.getElementById('loginInput').value.trim();
        var passwordValue = document.getElementById('passwordInput').value.trim();

        // Проверяем, заполнены ли оба инпута
        if (loginValue && passwordValue) {
            // Если оба инпута заполнены, выполнить нужные действия
            // Добавьте свой код для выполнения действий при нажатии на кнопку
            alert("Вход выполнен!");
        } else {
            // Если какой-то из инпутов не заполнен, выведите сообщение об ошибке
            alert("Заполните оба поля!");
        }
    }
    
    


    // ------------------------------------------------------------------------
    // ------------------------------------------------------------------------
    // ФУНКЦИЯ БЭКАП
    // ------------------------------------------------------------------------
    function backup() {

        var confirmation = confirm("Вы уверены, что хотите создать бэкап?");

        if (confirmation) {
            // Отправка AJAX-запроса на сервер для создания резервной копии
            fetch('/backup', {
                method: 'POST',
            })
                .then(response => {
                    if (response.ok) {
                        alert("Бэкап успешно создан!");
                    } else {
                        alert("Не удалось создать бэкап!");
                    }
                })
                .catch(error => {
                    console.error('Ошибка:', error);
                });
        }
    }
    // ------------------------------------------------------------------------





    // ------------------------------------------------------------------------
    // ------------------------------------------------------------------------
    // ОТКРЫТИЕ И ЗАКРЫТИЕ БЛОКА ВХОДА В ЛИЧНЫЙ КАБИНЕТ
    // ------------------------------------------------------------------------
    document.addEventListener('DOMContentLoaded', function () {
        const personalAreaButton = document.querySelector('.s-personal_area__personal_area_button');
        const personalArea = document.querySelector('.s-personal_area');
        const closeButton = document.querySelector('.s-personal_area__close_button');

        personalAreaButton.addEventListener('click', function () {
            personalArea.style.display = 'block';
        });

        closeButton.addEventListener('click', function () {
            personalArea.style.display = 'none';
        });

    });
    // ------------------------------------------------------------------------





    // ------------------------------------------------------------------------
    // ------------------------------------------------------------------------
    // ЗАКРЫТИЕ БЛОКА РЕГИСТРАЦИИ
    // ------------------------------------------------------------------------
    document.addEventListener('DOMContentLoaded', function () {
        const personalArea = document.querySelector('.s-registration');
        const closeButton = document.querySelector('.s-registration__close_button');

        closeButton.addEventListener('click', function () {
            personalArea.style.display = 'none';
        });
    });
    // ------------------------------------------------------------------------





    // ------------------------------------------------------------------------
    // ------------------------------------------------------------------------
    // ОТКРЫТИЕ БЛОКА РЕГИСТРАЦИИ
    // ------------------------------------------------------------------------
    document.addEventListener('DOMContentLoaded', function () {
        var personalArea = document.querySelector('.s-personal_area');
        var registrationBlock = document.querySelector('.s-registration');
        var registrationButton = document.querySelector('.s-personal_area__Registration');

        registrationButton.addEventListener('click', function () {
            personalArea.style.display = 'none';
            registrationBlock.style.display = 'block';
        });
    });
    // ------------------------------------------------------------------------





    // ------------------------------------------------------------------------
    // ------------------------------------------------------------------------
    // В СЛУЧАЕ ВЫБОРА ФИЗ.ЛИЦА В ИНПУТЕ NAME ЗНАЧЕНИЕ БУДЕТ ФИО
    // В СЛУЧАЕ ВЫБОРА ЮР.ЛИЦА  В ИНПУТЕ NAME ЗНАЧЕНИЕ БУДЕТ НАИМ. ОРГАНИЗАЦИИ
    // ------------------------------------------------------------------------
    var entityTypeSelect = document.getElementById('entityType');
    var nameInput = document.querySelector('.s-registration__name');

    entityTypeSelect.addEventListener('change', function() {
        if (entityTypeSelect.value === 'individual') {
            nameInput.placeholder = 'ФИО';
        } else if (entityTypeSelect.value === 'legal') {
            nameInput.placeholder = 'Наим. организации';
        }
    });
    // ------------------------------------------------------------------------





    // ------------------------------------------------------------------------
    // ------------------------------------------------------------------------
    // ПРОВЕРКА НА ЗАПОЛНЕННОСТЬ ВСЕХ ИНПУТОВ
    // ------------------------------------------------------------------------
    var entityTypeSelect = document.getElementById('entityType');
    var nameInput = document.querySelector('.s-registration__name');
    var mailInput = document.querySelector('.s-registration__mail');
    var telInput = document.querySelector('.s-registration__tel');
    var loginInput = document.querySelector('.s-registration__login');
    var passwordInput = document.querySelector('.s-registration__password');
    var registrationButton = document.querySelector('.s-registration__Registration');

    function checkForm() {
        if (
            entityTypeSelect.value &&
            nameInput.value &&
            mailInput.value &&
            telInput.value &&
            loginInput.value &&
            passwordInput.value
        ) {
            registrationButton.style.backgroundColor = '#252527';
            registrationButton.style.color = '#fff';
        } else {
            registrationButton.style.backgroundColor = '';
            registrationButton.style.color = '';
        }
    }

    entityTypeSelect.addEventListener('change', checkForm);
    nameInput.addEventListener('input', checkForm);
    mailInput.addEventListener('input', checkForm);
    telInput.addEventListener('input', checkForm);
    loginInput.addEventListener('input', checkForm);
    passwordInput.addEventListener('input', checkForm);
    // ------------------------------------------------------------------------





    // ------------------------------------------------------------------------
    // ------------------------------------------------------------------------
    // ПРОВЕРКА НА КОРРЕКТНОСТЬ ПОЧТЫ
    // ------------------------------------------------------------------------
    function validateEmail(event) {
        const emailInput = event.target;
        const emailValidationMessage = document.getElementById('emailValidationMessage');

        const allowedDomains = ['gmail.com', 'hotmail.com', 'yandex.ru', 'rambler.ru', 'yahoo.com', 'outlook.com', 'protonmail.com', 'icloud.com', 'mail.com', 'mail.ru', 'inbox.com', 'zoho.com'];

        const email = emailInput.value.trim();
        const atIndex = email.indexOf('@');

        if (atIndex !== -1) {
            const domain = email.slice(atIndex + 1);
            if (allowedDomains.includes(domain)) {
                emailValidationMessage.textContent = '';
                emailValidationMessage.style.display = 'none';
                emailInput.classList.remove('error');
            } else {
                emailValidationMessage.textContent = 'Указанный домен не поддерживается.';
                emailValidationMessage.style.display = 'block';
                emailInput.classList.add('error');
                emailInput.value = '';
            }
        } else {
            emailValidationMessage.textContent = 'Пожалуйста, введите полный адрес электронной почты.';
            emailValidationMessage.style.display = 'block';
            emailInput.classList.add('error');
            emailInput.value = '';
        }
    }

    function handleKeyDown(event) {
        if (event.key === 'Enter') {
            const form = document.querySelector('form');
            const inputs = Array.from(form.querySelectorAll('input'));
            const index = inputs.indexOf(event.target);

            if (index !== -1 && index < inputs.length - 1) {
                inputs[index + 1].focus();
            }
        }
    }
    // ------------------------------------------------------------------------

</script>
<script src="https://cdn.jsdelivr.net/npm/intl-tel-input@18.2.1/build/js/intlTelInput.min.js"></script>
<script>
    const phoneInputField = document.querySelector("#phone");
    const phoneInput = window.intlTelInput(phoneInputField, {
        onlyCountries: ['ru'],
        separateDialCode: true,
        customPlaceholder: function (selectedCountryPlaceholder, selectedCountryData) {
            return "+" + selectedCountryData.dialCode + " " + selectedCountryPlaceholder;
        },
        utilsScript: "https://cdnjs.cloudflare.com/ajax/libs/intl-tel-input/17.0.8/js/utils.js",
    });

    const info = document.querySelector(".alert-info");

    phoneInputField.addEventListener('input', function (event) {
        const inputValue = event.target.value;
        const numericValue = inputValue.replace(/\D/g, ''); // Оставить только цифры
        const limitedNumericValue = numericValue.slice(0, 11); // Ограничить до 11 цифр
        event.target.value = limitedNumericValue; // Заменить значение инпута на ограниченное числовое
    });

    function process(event) {
        event.preventDefault();

        const phoneNumber = phoneInput.getNumber();

        info.style.display = "";
        info.innerHTML = `Phone number in E.164 format: <strong>${phoneNumber}</strong>`;
    }
</script>
</body>

</html>